<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:b="http://bootsfaces.net/ui"
    xmlns:p="http://primefaces.org/ui"> 

<h:head>
	<title>Dashboard Template for BootsFaces</title>
	<meta name="author" content="Osvaldo D. Sandoval"></meta>
	<link rel='stylesheet' href='resources/fullcalendar-3.9.0/fullcalendar.css' />
	<script src='resources/fullcalendar-3.9.0/fullcalendar.js'></script>	
	<script>	
		$(document).ready(function() {			
			$(document).ready(function() {			
				$.ajax({
				  url: 'CalendarJsonServlet',
				  dataType: "json",
				  success: function(response) {
					  $('#calendar').fullCalendar({
						  header: {
							left: 'prev,next today',
							center: 'title',
							right: 'month,agendaWeek,agendaDay'
						  },
						  defaultView: 'agendaWeek',
						  editable: true,
						  // use "[response]" if only one event
						  events: response
					  });
				  }
				});
			});
		});
	</script>	
</h:head>
<h:body style="padding-top: 60px">
	<ui:insert name="navBar">
		<ui:include src="Templates/navBar.xhtml" />
	</ui:insert>
	<b:container fluid="true" id="mainContainer">
		<b:row styleClass="show-grid">
			<ui:insert name="sideBar">
				<ui:include src="Templates/leftSideBar.xhtml" />
			</ui:insert>
		</b:row>
		<b:column span="8" col-sm="3" offset-sm="1" col-md="3" offset="2" styleClass="main">			
			<h:form id="mainForm1">
				<h2>Campeonato: #{calendarioAdmBean.idShp}</h2>
				<h:messages id="calendarMessages" globalOnly="true" errorClass="error" warnClass="warning" infoClass="success" />
				<b:commandButton value="Crear eventos" look="primary" style="padding: 0 4px;" update="@form :modalForm" 
				action="#{calendarioAdmBean.BuscarEquipos()}" oncomplete="$('.modalPseudoClass').modal();return false;" />			
				<br/><br/>
			</h:form>
			<div id="calendar"></div>			
			<b:modal id="amodal" title="Calendario" styleClass="modalPseudoClass">	
			  <h:form id="modalForm">
					<b:row>
						<b:column medium-screen="3">
							<h:outputText value="Fecha Inicio" for="fecha de inicio" />
						</b:column>
						<b:column span="7">
							<b:dateTimePicker value="#{calendarioAdmBean.fechaHoraInicio}"
			                    icon-position="right"
			                    show-date="true"
			                    show-time="true"
			                    show-icon="true"
			                    colMd="7"
								labelColMd="7" />
		                    <br/>
   						</b:column>
					</b:row>
					<b:row>
						<b:column medium-screen="3">
							<h:outputText value="Equipo 1(Local)" for="equipo1" />
						</b:column>
						<b:column medium-screen="7">
							<b:formGroup>
								<b:selectOneMenu value="#{calendarioAdmBean.equip}" colMd="7"
									labelColMd="7" tooltip="Seleccione el equipo local" required="true">
									<f:selectItems value="#{calendarioAdmBean.equips}" />
								</b:selectOneMenu>
							</b:formGroup>
							<br/><br/>
						</b:column>						
						<b:column medium-screen="3">
							<h:outputText value="Equipo 2(Visitante)" for="equipo2" />
						</b:column>
						<b:column medium-screen="7">
							<b:formGroup>
								<b:selectOneMenu value="#{calendarioAdmBean.equipV}" colMd="7"
									labelColMd="7" tooltip="Seleccione el equipo visitante" required="true">
									<f:selectItems value="#{calendarioAdmBean.equipsV}" />
								</b:selectOneMenu>
							</b:formGroup>
							<br/><br/>
						</b:column>
					</b:row>
					<b:commandButton value="Crear" look="primary" action="#{calendarioAdmBean.CrearEvento()}" 
					    update=":mainForm1" oncomplete="$('.modalPseudoClass').modal('hide');return false;" 
					    style="margin-left: 30%;" />
					<b:button value="Cancelar" dismiss="modal" style="margin-left: 10%;" />						  								    			    
			  </h:form>
			</b:modal>
		</b:column>
	</b:container>
<style type="text/css">
.sub-header {
	border-bottom: 1px solid #eee;
	padding-bottom: 10px;
}

.navbar-fixed-top {
	border: 0 none;
}

.sidebar {
	display: none;
}

@media ( min-width : 768px) {
	.sidebar {
		background-color: #f5f5f5;
		border-right: 1px solid #eee;
		bottom: 0;
		display: block;
		left: 0;
		overflow-x: hidden;
		overflow-y: auto;
		padding: 20px;
		position: fixed;
		top: 51px;
		z-index: 1000;
	}
}

.nav-list {
	margin-bottom: 20px;
	margin-left: -20px;
	margin-right: -21px;
}

.nav-list>li>a {
	padding-left: 20px;
	padding-right: 20px;
}

.nav-list>.active>a, .nav-sidebar>.active>a:hover, .nav-sidebar>.active>a:focus
	{
	background-color: #428bca;
	color: #fff;
}

.main {
	padding: 20px;
}

@media ( min-width : 768px) {
	.main {
		padding-left: 40px;
		padding-right: 40px;
	}
}

.main .page-header {
	margin-top: 0;
}

.placeholders {
	margin-bottom: 30px;
	text-align: center;
}

.placeholders h4 {
	margin-bottom: 0;
}

.placeholder {
	margin-bottom: 20px;
}

.placeholder img {
	border-radius: 50%;
	display: inline-block;
}

.order-table {
	border-collapse: collapse;
}

.order-table-header {
	text-align: center;
	background: none repeat scroll 0 0 #E5E5E5;
	border-bottom: 1px solid #BBBBBB;
	padding: 16px;
}

.order-table-odd-row {
	text-align: center;
	background: none repeat scroll 0 0 #FFFFFFF;
	border-top: 1px solid #BBBBBB;
}

.order-table-even-row {
	text-align: center;
	background: none repeat scroll 0 0 #F9F9F9;
	border-top: 1px solid #BBBBBB;
}

.ui-fileupload-buttonbar .ui-fileupload-upload {
	display: none;
}

.ui-fileupload-buttonbar .ui-fileupload-cancel {
	display: none;
}

.info, .success, .warning, .error, .validation {
	border: 0px solid;
	margin: 10px 0px;
	padding: 15px 10px 15px 50px;
	background-repeat: no-repeat;
	background-position: 10px center;
}

.info {
	color: #00529B;
	background-color: #BDE5F8;
	background-image: url('info.png');
}

.success {
	color: #4F8A10;
	background-color: #DFF2BF;
	background-image: url('success.png');
}

.warning {
	color: #9F6000;
	background-color: #FEEFB3;
	background-image: url('warning.png');
}

.error {
	color: #D8000C;
	background-color: #FFBABA;
	background-image: url('error.png');
}
</style>

</h:body> 
</html>
